{"version":3,"sources":["redux/auth/actions.js","pages/Logout.jsx"],"names":["login","loginAdminData","async","dispatch","type","actionTypes","payload","loading","data","authService","success","authValue","current","result","admin","isLoggedIn","storePersist","set","history","push","logout","Logout","useDispatch","useEffect","logoutAction","asyncLogout","_jsx","_Fragment"],"mappings":"8GAAA,wGAKO,MAAMA,EAASC,GAAmBC,UACvCC,EAAS,CACPC,KAAMC,IACNC,QAAS,CAAEC,SAAS,KAEtB,MAAMC,QAAaC,IAAkBR,GAErC,IAAqB,IAAjBO,EAAKE,QAAkB,CACzB,MAAMC,EAAY,CAChBC,QAASJ,EAAKK,OAAOC,MACrBP,SAAS,EACTQ,YAAY,GAEdC,IAAaC,IAAI,OAAQN,GACzBR,EAAS,CACPC,KAAMC,IACNC,QAASE,EAAKK,OAAOC,QAEvBI,IAAQC,KAAK,IACf,MACEhB,EAAS,CACPC,KAAMC,IACNC,QAASE,GAEb,EAGWY,EAASA,IAAMlB,UAC1BO,MACAN,EAAS,CACPC,KAAMC,MAERa,IAAQC,KAAK,SAAS,C,mCCrCxB,0CAwBeE,UAnBAA,KACb,MAAMlB,EAAWmB,cAgBjB,OAPAC,qBAAU,MACRrB,uBACQC,EAASqB,cACjB,CACAC,EAAa,GACZ,IAEIC,cAAAC,WAAA,GAAK,C","file":"static/js/LogoutPage.1a8d967a.chunk.js","sourcesContent":["import * as actionTypes from \"./types\";\r\nimport * as authService from \"@/auth\";\r\nimport storePersist from \"@/redux/storePersist\";\r\nimport history from \"@/utils/history\";\r\n\r\nexport const login = (loginAdminData) => async (dispatch) => {\r\n  dispatch({\r\n    type: actionTypes.LOADING_REQUEST,\r\n    payload: { loading: true },\r\n  });\r\n  const data = await authService.login(loginAdminData);\r\n\r\n  if (data.success === true) {\r\n    const authValue = {\r\n      current: data.result.admin,\r\n      loading: false,\r\n      isLoggedIn: true,\r\n    };\r\n    storePersist.set(\"auth\", authValue);\r\n    dispatch({\r\n      type: actionTypes.LOGIN_SUCCESS,\r\n      payload: data.result.admin,\r\n    });\r\n    history.push(\"/\");\r\n  } else {\r\n    dispatch({\r\n      type: actionTypes.FAILED_REQUEST,\r\n      payload: data,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  authService.logout();\r\n  dispatch({\r\n    type: actionTypes.LOGOUT_SUCCESS,\r\n  });\r\n  history.push(\"/login\");\r\n};\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport { Button, Result } from \"antd\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logout as logoutAction } from \"@/redux/auth/actions\";\r\n\r\nconst Logout = () => {\r\n  const dispatch = useDispatch();\r\n  // const callbackLogout = useCallback(async () => {\r\n  //   await dispatch(logoutAction());\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   callbackLogout();\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    async function asyncLogout() {\r\n      await dispatch(logoutAction());\r\n    }\r\n    asyncLogout();\r\n  }, []);\r\n\r\n  return <></>;\r\n};\r\nexport default Logout;\r\n"],"sourceRoot":""}